---
  - hosts: all
    become: yes
    tasks:
      - name: creating new directory
        file: 
          path: "{{ path }}" 
          state: touch
          content: |
            "{{ Vagrantfile }}"
            
      - name: Installing curl
          apt:
            name: curl
            state: latest
            update_cache: yes
      
      - name: Download Vagrant GPG
        get_url:
          url: https://apt.releases.hashicorp.com/gpg
          dest: /tmp/vagrant.gpg
            
      - name: Add Apt signing key on remote server to keyring
        ansible.builtin.apt_key:
          file: /tmp/vagrant.gpg
          state: present      
      
      - name: Enabling Vagrant Source
        ansible.builtin.apt_repository:
          repo: deb [arch=amd64] https://apt.releases.hashicorp.com {{ansible_distribution_release}} main
          state: present
            
      - name: Installing Vagrant
          apt:
            name: vagrant
            state: latest
            update_cache: yes
